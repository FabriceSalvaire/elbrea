####################################################################################################
# 
# @Project@ - @ProjectDescription@.
# Copyright (C) 2015 Fabrice Salvaire
# 
####################################################################################################

####################################################################################################

import h5py

####################################################################################################

class HdfAnnotation(object):

    ##############################################
        
    def __init__(self, file_name, update=False):

        """ Open an HDF5 file in append mode
        """

        if update:
            mode = 'w' # a
        else:
            mode = 'r'

        self._hdf_file = h5py.File(file_name, mode)

    ##############################################

    def __del__(self):

        self._hdf_file.close()
    
    ##############################################

    @property
    def root(self):
        return self._hdf_file['/']

    ##############################################

    def __getitem__(self, path):
        return self._hdf_file[path]

    ##############################################
        
    def create_group(self, name):

        return self._hdf_file.create_group(name)

####################################################################################################
# 
# End
# 
####################################################################################################
